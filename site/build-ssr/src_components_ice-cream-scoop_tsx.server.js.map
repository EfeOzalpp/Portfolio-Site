{"version":3,"file":"src_components_ice-cream-scoop_tsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/ice-cream-scoop.tsx","webpack://personal-site/./src/utils/media-providers/image-upgrade-manager.ts","webpack://personal-site/./src/utils/media-providers/media-loader.tsx","webpack://personal-site/./src/utils/media-providers/video-observer.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport client from '../utils/sanity';\r\nimport SplitDragHandler from '../utils/split-controller';\r\nimport MediaLoader from '../utils/media-providers/media-loader';\r\nimport { useTooltipInit } from '../utils/tooltip/tooltipInit';\r\nimport { useSsrData } from '../utils/context-providers/ssr-data-context';\r\nimport '../styles/block-type-1.css';\r\n\r\ntype VideoSet = {\r\n  webmUrl?: string;\r\n  mp4Url?: string;\r\n  poster?: any; // Sanity image\r\n};\r\n\r\ntype MediaSlot = {\r\n  alt?: string;\r\n  image?: any;\r\n  video?: VideoSet;\r\n};\r\n\r\ntype IceData = {\r\n  mediaOne: MediaSlot;\r\n  mediaTwo: MediaSlot;\r\n};\r\n\r\nconst IceCreamScoop = () => {\r\n  const ssrData = useSsrData();\r\n  const preloadedData: IceData | null = ssrData?.preloaded?.['ice-scoop'] || null;\r\n\r\n  const [data, setData] = useState<IceData | null>(preloadedData);\r\n  const [split, setSplit] = useState(() => (window.innerWidth < 1024 ? 45 : 50));\r\n  const [isPortrait, setIsPortrait] = useState(window.innerHeight > window.innerWidth);\r\n\r\n  useTooltipInit();\r\n\r\n  // Orientation listener\r\n  useEffect(() => {\r\n    const handleResize = () => setIsPortrait(window.innerHeight > window.innerWidth);\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Fetch from Sanity only if not already preloaded\r\n  useEffect(() => {\r\n    if (data) return;\r\n    client\r\n      .fetch<IceData>(\r\n        `*[_type == \"mediaBlock\" && slug.current == $slug][0]{\r\n          mediaOne{\r\n            alt,\r\n            image,\r\n            video{\r\n              \"webmUrl\": webm.asset->url,\r\n              \"mp4Url\": mp4.asset->url,\r\n              poster\r\n            }\r\n          },\r\n          mediaTwo{\r\n            alt,\r\n            image,\r\n            video{\r\n              \"webmUrl\": webm.asset->url,\r\n              \"mp4Url\": mp4.asset->url,\r\n              poster\r\n            }\r\n          }\r\n        }`,\r\n        { slug: 'ice-scoop' }\r\n      )\r\n      .then(setData)\r\n      .catch((err: any) => {\r\n        console.warn('[IceCreamScoop] GROQ fetch failed:', err);\r\n        setData(null);\r\n      });\r\n  }, [data]);\r\n\r\n  if (!data) return null;\r\n\r\n  const media1 = data.mediaOne;\r\n  const media2 = data.mediaTwo;\r\n\r\n  const alt1 = media1?.alt || 'Ice Cream Scoop media';\r\n  const alt2 = media2?.alt || 'Ice Cream Scoop media';\r\n\r\n  const media2IsVideo = Boolean(media2?.video?.webmUrl || media2?.video?.mp4Url);\r\n\r\n  return (\r\n    <section className=\"block-type-1\" style={{ position: 'relative' }}>\r\n      {/* LEFT / TOP */}\r\n      <div\r\n        className=\"media-content-1\"\r\n        style={\r\n          isPortrait\r\n            ? {\r\n                height: split <= 20 ? '0%' : `${split}%`,\r\n                width: '100%',\r\n                position: 'absolute',\r\n                top: 0,\r\n                transition: split <= 20 ? 'height 0.1s ease' : 'none',\r\n              }\r\n            : {\r\n                width: `${split}%`,\r\n                height: '100%',\r\n                position: 'absolute',\r\n                left: 0,\r\n              }\r\n        }\r\n      >\r\n        <MediaLoader\r\n          type=\"image\"\r\n          src={media1?.image}\r\n          alt={alt1}\r\n          id=\"icecream-media-1\"\r\n          className=\"media-item-1 tooltip-ice-scoop\"\r\n          objectPosition=\"left center\"\r\n          style={{ width: '100%', height: '100%' }}\r\n        />\r\n      </div>\r\n\r\n      {/* SPLITTER */}\r\n      <SplitDragHandler split={split} setSplit={setSplit} />\r\n\r\n      {/* RIGHT / BOTTOM */}\r\n      <div\r\n        className=\"media-content-2\"\r\n        style={\r\n          isPortrait\r\n            ? {\r\n                height: split <= 20 ? '100%' : `${100 - split}%`,\r\n                width: '100%',\r\n                position: 'absolute',\r\n                top: split <= 20 ? '0%' : `${split}%`,\r\n                transition: split <= 20 ? 'height 0.1s ease, top 0.1s ease' : 'none',\r\n              }\r\n            : {\r\n                width: `${100 - split}%`,\r\n                height: '100%',\r\n                position: 'absolute',\r\n                left: `${split}%`,\r\n              }\r\n        }\r\n      >\r\n        <MediaLoader\r\n          type={media2IsVideo ? 'video' : 'image'}\r\n          src={media2IsVideo ? media2.video! : media2.image!}\r\n          alt={alt2}\r\n          id=\"icecream-media-2\"\r\n          className=\"media-item-2 tooltip-ice-scoop\"\r\n          objectPosition=\"center bottom\"\r\n          style={{ width: '100%', height: '100%' }}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default IceCreamScoop;\r\n","// src/utils/image-upgrade-manager.ts\r\nlet totalImages = 0;\r\nlet loadedLowRes = 0;\r\nlet listeners: (() => void)[] = [];\r\nlet upgradeTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const setUpgradeTimeout = (ms: number = 5000) => {\r\n  if (upgradeTimeout) return;\r\n  upgradeTimeout = setTimeout(() => {\r\n    listeners.forEach(fn => fn());\r\n    listeners = [];\r\n  }, ms);\r\n};\r\n\r\nexport const registerImage = () => {\r\n  totalImages++;\r\n  setUpgradeTimeout();\r\n};\r\n\r\nexport const notifyLowResLoaded = () => {\r\n  loadedLowRes++;\r\n  if (loadedLowRes >= totalImages) {\r\n    listeners.forEach(fn => fn());\r\n    listeners = [];\r\n  }\r\n};\r\n\r\nexport const onAllLowResLoaded = (callback: () => void) => {\r\n  listeners.push(callback);\r\n};\r\n","// MediaLoader\r\nimport { useRef, useState, useEffect } from 'react';\r\nimport { useVideoVisibility } from './video-observer';\r\nimport LoadingScreen from '../content-utility/loading';\r\nimport { SanityImageSource } from '@sanity/image-url/lib/types/types';\r\nimport {\r\n  getLowResImageUrl,\r\n  getMediumImageUrl,\r\n  getHighQualityImageUrl,\r\n  urlFor,\r\n} from './image-builder';\r\nimport {\r\n  registerImage,\r\n  notifyLowResLoaded,\r\n  onAllLowResLoaded,\r\n} from './image-upgrade-manager';\r\n\r\nfunction useNearViewport<T extends Element>(\r\n  ref: React.RefObject<T>,\r\n  { rootMargin = '900px 0px', threshold = 0, once = true } = {}\r\n) {\r\n  const [near, setNear] = useState(false);\r\n  useEffect(() => {\r\n    if (!ref.current || near) return;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries.some((e) => e.isIntersecting)) {\r\n          setNear(true);\r\n          if (once) io.disconnect();\r\n        }\r\n      },\r\n      { rootMargin, threshold }\r\n    );\r\n    io.observe(ref.current);\r\n    return () => io.disconnect();\r\n  }, [ref, near, rootMargin, threshold, once]);\r\n  return near;\r\n}\r\n\r\ntype VideoSetSrc = {\r\n  webmUrl?: string;\r\n  mp4Url?: string;\r\n  poster?: SanityImageSource | string;\r\n};\r\n\r\ntype MediaLoaderProps = {\r\n  type: 'image' | 'video';\r\n  src: string | SanityImageSource | VideoSetSrc;\r\n  alt?: string;\r\n  id?: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n  objectPosition?: string;\r\n  loop?: boolean;\r\n  muted?: boolean;\r\n  playsInline?: boolean;\r\n  preload?: 'auto' | 'metadata' | 'none';\r\n  enableVisibilityControl?: boolean;\r\n  priority?: boolean;\r\n  controls?: boolean;\r\n};\r\n\r\nconst MediaLoader = ({\r\n  type,\r\n  src,\r\n  alt = '',\r\n  id,\r\n  className = '',\r\n  style = {},\r\n  objectPosition = 'center center',\r\n  loop = true,\r\n  muted = true,\r\n  playsInline = true,\r\n  preload = 'metadata',\r\n  enableVisibilityControl = true,\r\n  priority = false,\r\n  controls = false,\r\n}: MediaLoaderProps) => {\r\n  const [loaded, setLoaded] = useState(false);      // first frame/LQIP loaded\r\n  const [showMedium, setShowMedium] = useState(false);\r\n  const [showHigh, setShowHigh] = useState(false);\r\n\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const isNear = useNearViewport(containerRef);\r\n  const shouldStart = priority || isNear;\r\n\r\n  // IMAGE upgrade flow\r\n  useEffect(() => {\r\n    if (type !== 'image') return;\r\n    registerImage();\r\n\r\n    // start medium once near (or after 2s as a safety)\r\n    const t1 = setTimeout(() => setShowMedium(true), shouldStart ? 0 : 2000);\r\n    if (shouldStart) setShowMedium(true);\r\n\r\n    // upgrade to high when all low-res are in OR 5s safety\r\n    const off = () => setTimeout(() => setShowHigh(true), 300);\r\n    onAllLowResLoaded(off);\r\n    const t2 = setTimeout(() => setShowHigh(true), 5000);\r\n\r\n    return () => {\r\n      clearTimeout(t1);\r\n      clearTimeout(t2);\r\n    };\r\n  }, [type, shouldStart]);\r\n\r\n  const onMediaLoaded = () => {\r\n    setLoaded(true);\r\n    if (type === 'image') notifyLowResLoaded();\r\n\r\n    if (id) {\r\n      const event = new CustomEvent('mediaReady', { detail: { id } });\r\n      window.dispatchEvent(event);\r\n    }\r\n  };\r\n\r\n  // VIDEO visibility/autoplay + fetch control\r\n  useVideoVisibility(\r\n    videoRef,\r\n    containerRef,\r\n    type === 'video' && enableVisibilityControl ? 0.4 : undefined\r\n  );\r\n\r\n  // kick off video fetching when near (or fallback after 2s)\r\n  useEffect(() => {\r\n    if (type !== 'video' || !videoRef.current) return;\r\n    const v = videoRef.current;\r\n    const start = () => {\r\n      // switch to metadata so the browser actually fetches\r\n      if (v.preload !== 'metadata') v.preload = 'metadata';\r\n      // if sources are present, ensure load is called\r\n      try { v.load(); } catch {}\r\n    };\r\n    if (shouldStart) start();\r\n    const t = setTimeout(start, 2000);\r\n    return () => clearTimeout(t);\r\n  }, [type, shouldStart]);\r\n\r\n  if (!src) return null;\r\n\r\n  // ============== IMAGE ==============\r\n  if (type === 'image') {\r\n    // Always render LQIP immediately; upgrade sources via state\r\n    const ultraLowSrc = typeof src === 'string' ? src : getLowResImageUrl(src);\r\n    const mediumSrc   = typeof src === 'string' ? src : getMediumImageUrl(src);\r\n    const highResSrc  = typeof src === 'string' ? src : getHighQualityImageUrl(src);\r\n\r\n    const resolvedSrc = showHigh ? highResSrc : showMedium ? mediumSrc : ultraLowSrc;\r\n\r\n    return (\r\n      <div ref={containerRef} style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n        {!loaded && (\r\n          <div className=\"absolute inset-0 z-10\">\r\n            <LoadingScreen isFullScreen={false} />\r\n          </div>\r\n        )}\r\n\r\n          <img\r\n            loading={priority ? 'eager' : undefined} // undefined → default\r\n            fetchPriority={showHigh || priority ? 'high' : showMedium ? 'auto' : 'low'}\r\n            id={id}\r\n            src={resolvedSrc}\r\n            alt={alt}\r\n            onLoad={onMediaLoaded}\r\n            onError={(e) => console.warn('Image failed', (e.target as HTMLImageElement).src)}\r\n            className={className}\r\n            draggable={false}\r\n            style={{\r\n              ...style,\r\n              objectFit: 'cover',\r\n              opacity: loaded ? 1 : 0,\r\n              transition: 'filter 0.5s ease, opacity 0.3s ease',\r\n            }}\r\n          />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ============== VIDEO ==============\r\n  const isVideoSetObj =\r\n    typeof src === 'object' && !('asset' in (src as any)) &&\r\n    (('webmUrl' in (src as any)) || ('mp4Url' in (src as any)));\r\n\r\n  const vs = (isVideoSetObj ? (src as VideoSetSrc) : undefined);\r\n  const legacyVideoUrl = typeof src === 'string' ? src : undefined;\r\n\r\n  const posterUrl =\r\n    vs?.poster\r\n      ? (typeof vs.poster === 'string'\r\n          ? vs.poster\r\n          : urlFor(vs.poster).width(1200).quality(80).auto('format').url())\r\n      : undefined;\r\n\r\n  return (\r\n    <div ref={containerRef} style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n      {!loaded && (\r\n        <div className=\"absolute inset-0 z-10\">\r\n          <LoadingScreen isFullScreen={false} />\r\n        </div>\r\n      )}\r\n\r\n      <video\r\n        id={id}\r\n        ref={videoRef}\r\n        onLoadedData={onMediaLoaded}\r\n        onError={(e) => console.warn('Video failed', e)}\r\n        className={className}\r\n        style={{\r\n          ...style,\r\n          objectFit: 'cover',\r\n          objectPosition,\r\n          opacity: loaded ? 1 : 0,\r\n          transition: 'opacity 0.3s ease',\r\n          pointerEvents: 'all',\r\n        }}\r\n        loop={loop}\r\n        muted={muted}\r\n        playsInline={playsInline}\r\n        // start conservative; we'll bump to 'metadata' and call load() when near\r\n        preload=\"none\"\r\n        controls={controls}\r\n        poster={posterUrl}\r\n        {...(muted ? { defaultmuted: true } : {})}\r\n      >\r\n        {vs?.webmUrl && <source src={vs.webmUrl} type=\"video/webm\" />}\r\n        {vs?.mp4Url  && <source src={vs.mp4Url}  type=\"video/mp4\"  />}\r\n        {!vs?.webmUrl && !vs?.mp4Url && legacyVideoUrl && <source src={legacyVideoUrl} />}\r\n      </video>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MediaLoader;\r\n","// video-observer.tsx\r\nimport { useEffect } from 'react';\r\n\r\nexport const useVideoVisibility = (\r\n  videoRef: React.RefObject<HTMLVideoElement> | null,\r\n  containerRef: React.RefObject<HTMLElement> | null,\r\n  threshold: number = 0.4\r\n) => {\r\n  useEffect(() => {\r\n    if (!videoRef?.current || !containerRef?.current) return;\r\n\r\n    const t = typeof threshold === 'number' && threshold >= 0 && threshold <= 1 ? threshold : 0.4;\r\n\r\n    let observer: IntersectionObserver | undefined;\r\n\r\n    const video = videoRef.current!;\r\n    const container = containerRef.current!;\r\n\r\n    // IMPORTANT: load even when using <source> children\r\n    // (video.src is empty in that case; currentSrc is set after load())\r\n    video.load();\r\n    video.muted = true;\r\n\r\n    observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          video.play().catch(() => setTimeout(() => video.play().catch(() => {}), 500));\r\n        } else {\r\n          video.pause();\r\n        }\r\n      },\r\n      { threshold: t }\r\n    );\r\n\r\n    observer.observe(container);\r\n\r\n    // kick once if already in view\r\n    const rect = container.getBoundingClientRect();\r\n    const ratio = Math.min(Math.max((window.innerHeight - rect.top) / window.innerHeight, 0), 1);\r\n    if (ratio >= t) video.play().catch(() => {});\r\n\r\n    return () => observer?.disconnect();\r\n  }, [videoRef, containerRef, threshold]);\r\n};\r\n"],"names":["useEffect","useState","client","SplitDragHandler","MediaLoader","useTooltipInit","useSsrData","jsx","_jsx","jsxs","_jsxs","IceCreamScoop","ssrData","preloadedData","preloaded","data","setData","split","setSplit","window","innerWidth","isPortrait","setIsPortrait","innerHeight","handleResize","addEventListener","removeEventListener","fetch","slug","then","catch","err","console","warn","media1","mediaOne","media2","mediaTwo","alt1","alt","alt2","media2IsVideo","Boolean","video","webmUrl","mp4Url","className","style","position","children","height","width","top","transition","left","type","src","image","id","objectPosition","totalImages","loadedLowRes","listeners","upgradeTimeout","setUpgradeTimeout","ms","setTimeout","forEach","fn","registerImage","notifyLowResLoaded","onAllLowResLoaded","callback","push","useRef","useVideoVisibility","LoadingScreen","getLowResImageUrl","getMediumImageUrl","getHighQualityImageUrl","urlFor","useNearViewport","ref","rootMargin","threshold","once","near","setNear","current","io","IntersectionObserver","entries","some","e","isIntersecting","disconnect","observe","loop","muted","playsInline","preload","enableVisibilityControl","priority","controls","loaded","setLoaded","showMedium","setShowMedium","showHigh","setShowHigh","videoRef","containerRef","isNear","shouldStart","t1","off","t2","clearTimeout","onMediaLoaded","event","CustomEvent","detail","dispatchEvent","undefined","v","start","load","t","ultraLowSrc","mediumSrc","highResSrc","resolvedSrc","isFullScreen","loading","fetchPriority","onLoad","onError","target","draggable","objectFit","opacity","isVideoSetObj","vs","legacyVideoUrl","posterUrl","poster","quality","auto","url","onLoadedData","pointerEvents","defaultmuted","observer","container","entry","play","pause","rect","getBoundingClientRect","ratio","Math","min","max"],"sourceRoot":""}