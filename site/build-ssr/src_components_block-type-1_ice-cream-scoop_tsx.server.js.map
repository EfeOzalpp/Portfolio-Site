{"version":3,"file":"src_components_block-type-1_ice-cream-scoop_tsx.server.js","mappings":"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","sources":["webpack://personal-site/./src/components/block-type-1/ice-cream-scoop.tsx"],"sourcesContent":["// /IceCreamScoop.tsx\r\nimport { useEffect, useState } from 'react';\r\nimport { getProjectData } from '../../utils/get-project-data';\r\nimport SplitDragHandler from '../../utils/split-controller';\r\nimport MediaLoader from '../../utils/media-providers/media-loader';\r\nimport { useTooltipInit } from '../../utils/tooltip/tooltipInit';\r\nimport '../../styles/block-type-1.css';\r\n\r\ntype VideoSet = { webmUrl?: string; mp4Url?: string; poster?: any };\r\ntype MediaSlot = { alt?: string; image?: any; video?: VideoSet };\r\ntype IceData = { mediaOne: MediaSlot; mediaTwo: MediaSlot };\r\n\r\nexport default function IceCreamScoop() {\r\n  const [data, setData] = useState<IceData | null>(null);\r\n  const [split, setSplit] = useState(() => (window.innerWidth < 1024 ? 45 : 50));\r\n  const [isPortrait, setIsPortrait] = useState(window.innerHeight > window.innerWidth);\r\n\r\n  // Track poster removal state so React VDOM also removes it\r\n  const [posterRemoved, setPosterRemoved] = useState(false);\r\n\r\n  useTooltipInit();\r\n\r\n  useEffect(() => {\r\n    getProjectData<IceData>('ice-scoop').then((d) => setData(d));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onResize = () => setIsPortrait(window.innerHeight > window.innerWidth);\r\n    window.addEventListener('resize', onResize, { passive: true });\r\n    return () => window.removeEventListener('resize', onResize);\r\n  }, []);\r\n\r\n  if (!data) return null;\r\n\r\n  const media2IsVideo = Boolean(data.mediaTwo?.video?.webmUrl || data.mediaTwo?.video?.mp4Url);\r\n\r\n  // When video first loads, remove poster from React's VDOM state\r\n  const handleVideoLoaded = () => {\r\n    setPosterRemoved(true);\r\n  };\r\n\r\n  return (\r\n    <section className=\"block-type-1\" id=\"no-ssr\" style={{ position: 'relative' }}>\r\n      {/* LEFT / TOP */}\r\n      <div\r\n        className=\"media-content-1\"\r\n        style={\r\n          isPortrait\r\n            ? {\r\n                height: split <= 20 ? '0%' : `${split}%`,\r\n                width: '100%',\r\n                position: 'absolute',\r\n                top: 0,\r\n                transition: split <= 20 ? 'height 0.1s ease' : 'none',\r\n              }\r\n            : { width: `${split}%`, height: '100%', position: 'absolute', left: 0 }\r\n        }\r\n      >\r\n        <MediaLoader\r\n          type=\"image\"\r\n          src={data.mediaOne.image}\r\n          alt={data.mediaOne.alt || 'Ice Cream Scoop media'}\r\n          id=\"icecream-media-1\"\r\n          className=\"media-item-1 tooltip-ice-scoop\"\r\n          objectPosition=\"left center\"\r\n          style={{ width: '100%', height: '100%' }}\r\n        />\r\n      </div>\r\n\r\n      <SplitDragHandler split={split} setSplit={setSplit} />\r\n\r\n      {/* RIGHT / BOTTOM */}\r\n      <div\r\n        className=\"media-content-2\"\r\n        style={\r\n          isPortrait\r\n            ? {\r\n                height: split <= 20 ? '100%' : `${100 - split}%`,\r\n                width: '100%',\r\n                position: 'absolute',\r\n                top: split <= 20 ? '0%' : `${split}%`,\r\n                transition: split <= 20 ? 'height 0.1s ease, top 0.1s ease' : 'none',\r\n              }\r\n            : {\r\n                width: `${100 - split}%`,\r\n                height: '100%',\r\n                position: 'absolute',\r\n                left: `${split}%`,\r\n              }\r\n        }\r\n      >\r\n        <MediaLoader\r\n          type={media2IsVideo ? 'video' : 'image'}\r\n          src={\r\n            media2IsVideo\r\n              ? {\r\n                  ...data.mediaTwo.video!,\r\n                  // Only pass poster if not removed\r\n                  poster: posterRemoved ? undefined : data.mediaTwo.video?.poster,\r\n                }\r\n              : data.mediaTwo.image!\r\n          }\r\n          alt={data.mediaTwo.alt || 'Ice Cream Scoop media'}\r\n          id=\"icecream-media-2\"\r\n          className=\"media-item-2 tooltip-ice-scoop\"\r\n          objectPosition=\"center bottom\"\r\n          style={{ width: '100%', height: '100%' }}\r\n          // Pass onLoadedData handler only if video\r\n          {...(media2IsVideo && { onLoadedData: handleVideoLoaded })}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["useEffect","useState","getProjectData","SplitDragHandler","MediaLoader","useTooltipInit","jsx","_jsx","jsxs","_jsxs","IceCreamScoop","data","setData","split","setSplit","window","innerWidth","isPortrait","setIsPortrait","innerHeight","posterRemoved","setPosterRemoved","then","d","onResize","addEventListener","passive","removeEventListener","media2IsVideo","Boolean","mediaTwo","video","webmUrl","mp4Url","handleVideoLoaded","className","id","style","position","children","height","width","top","transition","left","type","src","mediaOne","image","alt","objectPosition","poster","undefined","onLoadedData"],"sourceRoot":""}