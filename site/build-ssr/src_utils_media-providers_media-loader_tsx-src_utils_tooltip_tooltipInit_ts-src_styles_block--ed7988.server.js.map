{"version":3,"file":"src_utils_media-providers_media-loader_tsx-src_utils_tooltip_tooltipInit_ts-src_styles_block--ed7988.server.js","mappings":"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","sources":["webpack://personal-site/./src/utils/content-utility/color-map.ts","webpack://personal-site/./src/utils/content-utility/real-mobile.ts","webpack://personal-site/./src/utils/media-providers/image-builder.ts","webpack://personal-site/./src/utils/media-providers/image-upgrade-manager.ts","webpack://personal-site/./src/utils/media-providers/media-loader.tsx","webpack://personal-site/./src/utils/media-providers/video-observer.tsx","webpack://personal-site/./src/utils/tooltip/tooltip.ts","webpack://personal-site/./src/utils/tooltip/tooltipInit.ts"],"sourcesContent":["// Master color config\r\nexport interface ProjectColor {\r\n  rgb: string;         // \"204, 85, 41\"\r\n  tooltipAlpha?: number;\r\n  defaultAlpha?: number;\r\n  darkThemeTop?: string; // optional override for theme-color\r\n}\r\n\r\nexport const projectColors: Record<string, ProjectColor> = {\r\n  'Rotary Lamp': {\r\n    rgb: '204, 85, 41',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(72, 161, 161, 1)'\r\n  },\r\n  'Ice Cream Scoop': {\r\n    rgb: '234, 103, 97',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(23, 27, 24, 1)'\r\n  },\r\n  'Data Visualization': {\r\n    rgb: '153, 199, 7',\r\n    tooltipAlpha: 0.8,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(28, 30, 31, 1)'\r\n  },\r\n  'Evade the Rock': {\r\n    rgb: '101, 86, 175',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgb(25, 25, 25)'\r\n  },\r\n  'Dynamic App': {\r\n    rgb: '120, 211, 255',\r\n    tooltipAlpha: 0.6,\r\n    defaultAlpha: 0.6,\r\n    darkThemeTop: 'rgba(17, 17, 17, 1)'\r\n  }\r\n};\r\n","// utils/useRealMobileViewport.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useRealMobileViewport() {\r\n  const [isRealMobile, setIsRealMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const coarse = window.matchMedia?.('(pointer: coarse)').matches ?? false;\r\n    const touch = (navigator as any).maxTouchPoints > 0;\r\n\r\n    // detect address-bar/viewport shrink behavior\r\n    const vv = (window as any).visualViewport;\r\n    let shrinks = false;\r\n\r\n    const check = () => {\r\n      if (!vv) return;\r\n      // if visual viewport is meaningfully smaller than layout viewport, assume mobile browser chrome\r\n      const gap = window.innerHeight - vv.height;\r\n      if (gap > 48) shrinks = true; // ~top/bottom bars size\r\n      setIsRealMobile(coarse && touch && (shrinks || gap > 48));\r\n    };\r\n\r\n    check();\r\n    vv?.addEventListener?.('resize', check);\r\n    window.addEventListener('orientationchange', check);\r\n    return () => {\r\n      vv?.removeEventListener?.('resize', check);\r\n      window.removeEventListener('orientationchange', check);\r\n    };\r\n  }, []);\r\n\r\n  return isRealMobile;\r\n}\r\n","// src/utils/image-builder.ts\r\nimport imageUrlBuilder from '@sanity/image-url';\r\nimport client from '../sanity';\r\n\r\nconst builder = imageUrlBuilder(client);\r\n\r\n// Base builder\r\nexport const urlFor = (source: any) => builder.image(source);\r\n\r\n// Ultra-low-res (LQIP)\r\nexport const getLowResImageUrl = (source: any) =>\r\n  urlFor(source).ignoreImageParams().width(128).height(128).quality(30).auto('format').url();\r\n\r\n// Medium\r\nexport const getMediumImageUrl = (source: any) =>\r\n  urlFor(source).ignoreImageParams().width(640).height(360).quality(60).auto('format').url();\r\n\r\n// High\r\nexport const getHighQualityImageUrl = (source: any, width = 1920, height = 1080, quality = 100) =>\r\n  urlFor(source).ignoreImageParams().width(width).height(height).quality(quality).auto('format').url();\r\n","// src/utils/image-upgrade-manager.ts\r\nlet totalImages = 0;\r\nlet loadedLowRes = 0;\r\nlet listeners: (() => void)[] = [];\r\nlet upgradeTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const setUpgradeTimeout = (ms: number = 5000) => {\r\n  if (upgradeTimeout) return;\r\n  upgradeTimeout = setTimeout(() => {\r\n    listeners.forEach(fn => fn());\r\n    listeners = [];\r\n  }, ms);\r\n};\r\n\r\nexport const registerImage = () => {\r\n  totalImages++;\r\n  setUpgradeTimeout();\r\n};\r\n\r\nexport const notifyLowResLoaded = () => {\r\n  loadedLowRes++;\r\n  if (loadedLowRes >= totalImages) {\r\n    listeners.forEach(fn => fn());\r\n    listeners = [];\r\n  }\r\n};\r\n\r\nexport const onAllLowResLoaded = (callback: () => void) => {\r\n  listeners.push(callback);\r\n};\r\n","// MediaLoader\r\nimport { useRef, useState, useEffect } from 'react';\r\nimport { useVideoVisibility } from './video-observer';\r\nimport LoadingScreen from '../content-utility/loading';\r\nimport { SanityImageSource } from '@sanity/image-url/lib/types/types';\r\nimport {\r\n  getLowResImageUrl,\r\n  getMediumImageUrl,\r\n  getHighQualityImageUrl,\r\n  urlFor,\r\n} from './image-builder';\r\nimport {\r\n  registerImage,\r\n  notifyLowResLoaded,\r\n  onAllLowResLoaded,\r\n} from './image-upgrade-manager';\r\n\r\nfunction useNearViewport<T extends Element>(\r\n  ref: React.RefObject<T>,\r\n  { rootMargin = '900px 0px', threshold = 0, once = true } = {}\r\n) {\r\n  const [near, setNear] = useState(false);\r\n  useEffect(() => {\r\n    if (!ref.current || near) return;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries.some((e) => e.isIntersecting)) {\r\n          setNear(true);\r\n          if (once) io.disconnect();\r\n        }\r\n      },\r\n      { rootMargin, threshold }\r\n    );\r\n    io.observe(ref.current);\r\n    return () => io.disconnect();\r\n  }, [ref, near, rootMargin, threshold, once]);\r\n  return near;\r\n}\r\n\r\ntype VideoSetSrc = {\r\n  webmUrl?: string;\r\n  mp4Url?: string;\r\n  poster?: SanityImageSource | string;\r\n};\r\n\r\ntype MediaLoaderProps = {\r\n  type: 'image' | 'video';\r\n  src: string | SanityImageSource | VideoSetSrc;\r\n  alt?: string;\r\n  id?: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n  objectPosition?: string;\r\n  loop?: boolean;\r\n  muted?: boolean;\r\n  playsInline?: boolean;\r\n  preload?: 'auto' | 'metadata' | 'none';\r\n  enableVisibilityControl?: boolean;\r\n  priority?: boolean;\r\n  controls?: boolean;\r\n};\r\n\r\nconst MediaLoader = ({\r\n  type,\r\n  src,\r\n  alt = '',\r\n  id,\r\n  className = '',\r\n  style = {},\r\n  objectPosition = 'center center',\r\n  loop = true,\r\n  muted = true,\r\n  playsInline = true,\r\n  preload = 'metadata',\r\n  enableVisibilityControl = true,\r\n  priority = false,\r\n  controls = false,\r\n}: MediaLoaderProps) => {\r\n  const [loaded, setLoaded] = useState(false);      // first frame/LQIP loaded\r\n  const [showMedium, setShowMedium] = useState(false);\r\n  const [showHigh, setShowHigh] = useState(false);\r\n\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const isNear = useNearViewport(containerRef);\r\n  const shouldStart = priority || isNear;\r\n\r\n  // IMAGE upgrade flow\r\n  useEffect(() => {\r\n    if (type !== 'image') return;\r\n    registerImage();\r\n\r\n    // start medium once near (or after 2s as a safety)\r\n    const t1 = setTimeout(() => setShowMedium(true), shouldStart ? 0 : 2000);\r\n    if (shouldStart) setShowMedium(true);\r\n\r\n    // upgrade to high when all low-res are in OR 5s safety\r\n    const off = () => setTimeout(() => setShowHigh(true), 300);\r\n    onAllLowResLoaded(off);\r\n    const t2 = setTimeout(() => setShowHigh(true), 5000);\r\n\r\n    return () => {\r\n      clearTimeout(t1);\r\n      clearTimeout(t2);\r\n    };\r\n  }, [type, shouldStart]);\r\n\r\n  const onMediaLoaded = () => {\r\n    setLoaded(true);\r\n    if (type === 'image') notifyLowResLoaded();\r\n\r\n    if (id) {\r\n      const event = new CustomEvent('mediaReady', { detail: { id } });\r\n      window.dispatchEvent(event);\r\n    }\r\n  };\r\n\r\n  // VIDEO visibility/autoplay + fetch control\r\n  useVideoVisibility(\r\n    videoRef,\r\n    containerRef,\r\n    type === 'video' && enableVisibilityControl ? 0.4 : undefined\r\n  );\r\n\r\n  // kick off video fetching when near (or fallback after 2s)\r\n  useEffect(() => {\r\n    if (type !== 'video' || !videoRef.current) return;\r\n    const v = videoRef.current;\r\n    const start = () => {\r\n      // switch to metadata so the browser actually fetches\r\n      if (v.preload !== 'metadata') v.preload = 'metadata';\r\n      // if sources are present, ensure load is called\r\n      try { v.load(); } catch {}\r\n    };\r\n    if (shouldStart) start();\r\n    const t = setTimeout(start, 2000);\r\n    return () => clearTimeout(t);\r\n  }, [type, shouldStart]);\r\n\r\n  if (!src) return null;\r\n\r\n  // ============== IMAGE ==============\r\n  if (type === 'image') {\r\n    // Always render LQIP immediately; upgrade sources via state\r\n    const ultraLowSrc = typeof src === 'string' ? src : getLowResImageUrl(src);\r\n    const mediumSrc   = typeof src === 'string' ? src : getMediumImageUrl(src);\r\n    const highResSrc  = typeof src === 'string' ? src : getHighQualityImageUrl(src);\r\n\r\n    const resolvedSrc = showHigh ? highResSrc : showMedium ? mediumSrc : ultraLowSrc;\r\n\r\n    return (\r\n      <div ref={containerRef} style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n        {!loaded && (\r\n          <div className=\"absolute inset-0 z-10\">\r\n            <LoadingScreen isFullScreen={false} />\r\n          </div>\r\n        )}\r\n\r\n          <img\r\n            loading={priority ? 'eager' : undefined} // undefined → default\r\n            fetchPriority={showHigh || priority ? 'high' : showMedium ? 'auto' : 'low'}\r\n            id={id}\r\n            src={resolvedSrc}\r\n            alt={alt}\r\n            onLoad={onMediaLoaded}\r\n            onError={(e) => console.warn('Image failed', (e.target as HTMLImageElement).src)}\r\n            className={className}\r\n            draggable={false}\r\n            style={{\r\n              ...style,\r\n              objectFit: 'cover',\r\n              opacity: loaded ? 1 : 0,\r\n              transition: 'filter 0.5s ease, opacity 0.3s ease',\r\n            }}\r\n          />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ============== VIDEO ==============\r\n  const isVideoSetObj =\r\n    typeof src === 'object' && !('asset' in (src as any)) &&\r\n    (('webmUrl' in (src as any)) || ('mp4Url' in (src as any)));\r\n\r\n  const vs = (isVideoSetObj ? (src as VideoSetSrc) : undefined);\r\n  const legacyVideoUrl = typeof src === 'string' ? src : undefined;\r\n\r\n  const posterUrl =\r\n    vs?.poster\r\n      ? (typeof vs.poster === 'string'\r\n          ? vs.poster\r\n          : urlFor(vs.poster).width(1200).quality(80).auto('format').url())\r\n      : undefined;\r\n\r\n  return (\r\n    <div ref={containerRef} style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n      {!loaded && (\r\n        <div className=\"absolute inset-0 z-10\">\r\n          <LoadingScreen isFullScreen={false} />\r\n        </div>\r\n      )}\r\n\r\n      <video\r\n        id={id}\r\n        ref={videoRef}\r\n        onLoadedData={onMediaLoaded}\r\n        onError={(e) => console.warn('Video failed', e)}\r\n        className={className}\r\n        style={{\r\n          ...style,\r\n          objectFit: 'cover',\r\n          objectPosition,\r\n          opacity: loaded ? 1 : 0,\r\n          transition: 'opacity 0.3s ease',\r\n          pointerEvents: 'all',\r\n        }}\r\n        loop={loop}\r\n        muted={muted}\r\n        playsInline={playsInline}\r\n        // start conservative; we'll bump to 'metadata' and call load() when near\r\n        preload=\"none\"\r\n        controls={controls}\r\n        poster={posterUrl}\r\n        {...(muted ? { defaultmuted: true } : {})}\r\n      >\r\n        {vs?.webmUrl && <source src={vs.webmUrl} type=\"video/webm\" />}\r\n        {vs?.mp4Url  && <source src={vs.mp4Url}  type=\"video/mp4\"  />}\r\n        {!vs?.webmUrl && !vs?.mp4Url && legacyVideoUrl && <source src={legacyVideoUrl} />}\r\n      </video>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MediaLoader;\r\n","// video-observer.tsx\r\nimport { useEffect } from 'react';\r\n\r\nexport const useVideoVisibility = (\r\n  videoRef: React.RefObject<HTMLVideoElement> | null,\r\n  containerRef: React.RefObject<HTMLElement> | null,\r\n  threshold: number = 0.4\r\n) => {\r\n  useEffect(() => {\r\n    if (!videoRef?.current || !containerRef?.current) return;\r\n\r\n    const t = typeof threshold === 'number' && threshold >= 0 && threshold <= 1 ? threshold : 0.4;\r\n\r\n    let observer: IntersectionObserver | undefined;\r\n\r\n    const video = videoRef.current!;\r\n    const container = containerRef.current!;\r\n\r\n    // IMPORTANT: load even when using <source> children\r\n    // (video.src is empty in that case; currentSrc is set after load())\r\n    video.load();\r\n    video.muted = true;\r\n\r\n    observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          video.play().catch(() => setTimeout(() => video.play().catch(() => {}), 500));\r\n        } else {\r\n          video.pause();\r\n        }\r\n      },\r\n      { threshold: t }\r\n    );\r\n\r\n    observer.observe(container);\r\n\r\n    // kick once if already in view\r\n    const rect = container.getBoundingClientRect();\r\n    const ratio = Math.min(Math.max((window.innerHeight - rect.top) / window.innerHeight, 0), 1);\r\n    if (ratio >= t) video.play().catch(() => {});\r\n\r\n    return () => observer?.disconnect();\r\n  }, [videoRef, containerRef, threshold]);\r\n};\r\n","// utils/tooltip/global-tooltip.ts\r\nimport '../../styles/tooltip.css';\r\nimport { projectColors } from '../content-utility/color-map';\r\n\r\ntype TooltipInfo = { tags: string[]; backgroundColor: string };\r\nconst tooltipDataCache: Record<string, TooltipInfo> = {};\r\n\r\nconst LOCAL_FALLBACK_TAGS: Record<string, string[]> = {\r\n  'block-g': ['#q5.js Canvas', '#Gamification', '#Lottie Animation'],\r\n};\r\n\r\nconst TITLE_BY_KEY: Record<string, string> = {\r\n  'rotary-lamp': 'Rotary Lamp',\r\n  'ice-scoop': 'Ice Cream Scoop',\r\n  'data-viz': 'Data Visualization',\r\n  'block-g': 'Evade the Rock',\r\n  'dynamic': 'Dynamic App',\r\n};\r\n\r\nfunction bgForKey(key: string) {\r\n  const colorInfo = projectColors[TITLE_BY_KEY[key]];\r\n  const alpha = colorInfo?.tooltipAlpha ?? 0.6;\r\n  return colorInfo ? `rgba(${colorInfo.rgb}, ${alpha})` : 'rgba(85,95,90,0.6)';\r\n}\r\n\r\nfunction createTooltipDOM() {\r\n  const el = document.createElement('div');\r\n  el.id = 'custom-global-tooltip';\r\n  el.style.position = 'fixed';\r\n  el.style.pointerEvents = 'none';\r\n  el.style.zIndex = '9999';\r\n  el.style.opacity = '0';\r\n  el.style.visibility = 'hidden';\r\n  el.style.backdropFilter = 'blur(8px)';\r\n  el.style.color = '#fff';\r\n  el.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';\r\n  el.className = 'custom-tooltip-blur';\r\n  const root = document.getElementById('efe-portfolio') || document.body;\r\n  root.appendChild(el);\r\n  return el as HTMLDivElement;\r\n}\r\n\r\nlet tooltipEl: HTMLDivElement | null = null;\r\nlet currentKey = '';\r\nlet hideTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\nexport const fetchTooltipDataForKey = async (key: string): Promise<TooltipInfo> => {\r\n  if (tooltipDataCache[key]) return tooltipDataCache[key];\r\n\r\n  const bg = bgForKey(key);\r\n\r\n  // local fallback\r\n  if (LOCAL_FALLBACK_TAGS[key]) {\r\n    const info = { tags: LOCAL_FALLBACK_TAGS[key], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n\r\n  // CMS fetch by slug\r\n  try {\r\n    const client = (await import('../sanity')).default;\r\n    const res = await client.fetch<{ tags?: string[] } | null>(\r\n      `*[_type==\"mediaBlock\" && slug.current == $key][0]{ tags }`,\r\n      { key }\r\n    );\r\n    const info: TooltipInfo = { tags: res?.tags ?? [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  } catch {\r\n    const info: TooltipInfo = { tags: [], backgroundColor: bg };\r\n    tooltipDataCache[key] = info;\r\n    return info;\r\n  }\r\n};\r\n\r\nconst showTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '1';\r\n  tooltipEl.style.visibility = 'visible';\r\n  hideTimeout = setTimeout(() => hideTooltip(), 2_000);\r\n};\r\n\r\nconst hideTooltip = () => {\r\n  if (!tooltipEl) return;\r\n  if (hideTimeout) clearTimeout(hideTimeout);\r\n  tooltipEl.style.opacity = '0';\r\n  tooltipEl.style.visibility = 'hidden';\r\n  currentKey = '';\r\n};\r\n\r\nfunction positionTooltip(x: number, y: number) {\r\n  if (!tooltipEl) return;\r\n  const rect = tooltipEl.getBoundingClientRect();\r\n  const padding = 0;\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n\r\n  const nearTop = y < rect.height + padding + 20;\r\n  const nearBottom = y + rect.height + padding > vh - 20;\r\n  const nearRight = x + rect.width + padding > vw - 20;\r\n  const nearLeft = x < rect.width + padding + 20;\r\n\r\n  let left: number, top: number;\r\n  if (nearBottom) { top = y - rect.height - padding - 12; left = x - rect.width * 0.15; }\r\n  else if (nearTop) { top = y + padding + 6; left = x - rect.width * 0.15; }\r\n  else if (nearRight) { top = y - rect.height / 2; left = x - rect.width - padding - 18; }\r\n  else if (nearLeft) { top = y - rect.height / 2; left = x + padding; }\r\n  else { top = y - rect.height / 2; left = x + padding; }\r\n\r\n  left = Math.max(padding, Math.min(left, vw - rect.width - padding));\r\n  top  = Math.max(padding, Math.min(top,  vh - rect.height - padding));\r\n\r\n  tooltipEl.style.left = `${left}px`;\r\n  tooltipEl.style.top  = `${top}px`;\r\n}\r\n\r\nexport function initGlobalTooltip(isRealMobile: boolean) {\r\n  if (tooltipEl) return () => {};\r\n  tooltipEl = createTooltipDOM();\r\n\r\n  let lastMouseX = -1;\r\n  let lastMouseY = -1;\r\n  let ticking = false;\r\n  let scrollCheckTimeout: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  const updateForElement = async (el: Element | null) => {\r\n    if (!(el instanceof HTMLElement)) { hideTooltip(); return; }\r\n    const tooltipClass = [...el.classList].find(c => c.startsWith('tooltip-'));\r\n    if (!tooltipClass) { hideTooltip(); return; }\r\n\r\n    const key = tooltipClass.replace('tooltip-', '');\r\n    if (key !== currentKey) {\r\n      currentKey = key;\r\n      const info = await fetchTooltipDataForKey(key);\r\n\r\n      if (!info.tags.length) { hideTooltip(); return; }\r\n      tooltipEl!.innerHTML = info.tags.map(t => `<p class=\"tooltip-tag\">${t}</p>`).join('');\r\n      tooltipEl!.style.backgroundColor = info.backgroundColor;\r\n      showTooltip();\r\n    } else if (tooltipEl!.style.opacity === '0' || tooltipEl!.style.visibility === 'hidden') {\r\n      showTooltip();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    lastMouseX = e.clientX;\r\n    lastMouseY = e.clientY;\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n    updateForElement(e.target as Element);\r\n  };\r\n\r\n  const checkHoveredElementOnScroll = () => {\r\n    const el = document.elementFromPoint(lastMouseX, lastMouseY);\r\n    updateForElement(el);\r\n    requestAnimationFrame(() => positionTooltip(lastMouseX, lastMouseY));\r\n  };\r\n\r\n  const onScroll = () => {\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => { checkHoveredElementOnScroll(); ticking = false; });\r\n      ticking = true;\r\n    }\r\n    if (scrollCheckTimeout) clearTimeout(scrollCheckTimeout);\r\n    scrollCheckTimeout = setTimeout(() => {}, 120);\r\n  };\r\n\r\n  const onMouseOut = (e: MouseEvent) => {\r\n    if (!e.relatedTarget) hideTooltip();\r\n  };\r\n\r\n  // only attach scroll observer for non-mobile real viewports\r\n  if (!isRealMobile) window.addEventListener('scroll', onScroll, true);\r\n  document.addEventListener('mousemove', onMouseMove, { passive: true });\r\n  document.addEventListener('mouseout', onMouseOut, { passive: true });\r\n\r\n  return () => {\r\n    if (!tooltipEl) return;\r\n    if (!isRealMobile) window.removeEventListener('scroll', onScroll, true);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseout', onMouseOut);\r\n    tooltipEl.remove();\r\n    tooltipEl = null;\r\n    if (hideTimeout) clearTimeout(hideTimeout);\r\n  };\r\n}\r\n","// utils/tooltip/tooltipInit.ts\r\nimport { useEffect } from 'react';\r\nimport { initGlobalTooltip } from './tooltip';\r\nimport { useRealMobileViewport } from '../content-utility/real-mobile';\r\n\r\nexport const useTooltipInit = () => {\r\n  const isRealMobile = useRealMobileViewport();\r\n\r\n  useEffect(() => {\r\n    const dispose = initGlobalTooltip(isRealMobile);\r\n    return () => dispose?.();\r\n  }, [isRealMobile]);\r\n};\r\n"],"names":["projectColors","rgb","tooltipAlpha","defaultAlpha","darkThemeTop","useEffect","useState","useRealMobileViewport","isRealMobile","setIsRealMobile","coarse","window","matchMedia","matches","touch","navigator","maxTouchPoints","vv","visualViewport","shrinks","check","gap","innerHeight","height","addEventListener","removeEventListener","imageUrlBuilder","client","builder","urlFor","source","image","getLowResImageUrl","ignoreImageParams","width","quality","auto","url","getMediumImageUrl","getHighQualityImageUrl","totalImages","loadedLowRes","listeners","upgradeTimeout","setUpgradeTimeout","ms","setTimeout","forEach","fn","registerImage","notifyLowResLoaded","onAllLowResLoaded","callback","push","useRef","useVideoVisibility","LoadingScreen","jsx","_jsx","jsxs","_jsxs","useNearViewport","ref","rootMargin","threshold","once","near","setNear","current","io","IntersectionObserver","entries","some","e","isIntersecting","disconnect","observe","MediaLoader","type","src","alt","id","className","style","objectPosition","loop","muted","playsInline","preload","enableVisibilityControl","priority","controls","loaded","setLoaded","showMedium","setShowMedium","showHigh","setShowHigh","videoRef","containerRef","isNear","shouldStart","t1","off","t2","clearTimeout","onMediaLoaded","event","CustomEvent","detail","dispatchEvent","undefined","v","start","load","t","ultraLowSrc","mediumSrc","highResSrc","resolvedSrc","position","children","isFullScreen","loading","fetchPriority","onLoad","onError","console","warn","target","draggable","objectFit","opacity","transition","isVideoSetObj","vs","legacyVideoUrl","posterUrl","poster","onLoadedData","pointerEvents","defaultmuted","webmUrl","mp4Url","observer","video","container","entry","play","catch","pause","rect","getBoundingClientRect","ratio","Math","min","max","top","tooltipDataCache","LOCAL_FALLBACK_TAGS","TITLE_BY_KEY","bgForKey","key","colorInfo","alpha","createTooltipDOM","el","document","createElement","zIndex","visibility","backdropFilter","color","root","getElementById","body","appendChild","tooltipEl","currentKey","hideTimeout","fetchTooltipDataForKey","bg","info","tags","backgroundColor","default","res","fetch","showTooltip","hideTooltip","positionTooltip","x","y","padding","vw","innerWidth","vh","nearTop","nearBottom","nearRight","nearLeft","left","initGlobalTooltip","lastMouseX","lastMouseY","ticking","scrollCheckTimeout","updateForElement","HTMLElement","tooltipClass","classList","find","c","startsWith","replace","length","innerHTML","map","join","onMouseMove","clientX","clientY","requestAnimationFrame","checkHoveredElementOnScroll","elementFromPoint","onScroll","onMouseOut","relatedTarget","passive","remove","useTooltipInit","dispose"],"sourceRoot":""}